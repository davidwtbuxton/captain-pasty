{% extends 'pasty/_base.html' %}

{% block content %}

<div class="col-sm-8">
	<h1>
		Pastes

		{% if tags %}
			<span class="search-tags">
			{% for tag in tags %}
				<span class="tag is-info is-medium">{{ tag }}</span>
			{% endfor %}
			</span>
		{% endif %}
	</h1>

{% for paste in pastes %}
	<div class="paste-summary">
		<h3><a href="{% url 'paste_detail' paste.key.id %}">{{ paste.filename }}</a></h3>
		{% include 'pasty/_paste_meta.html' %}

		<div class="paste__content{% if paste.num_lines > 10 %} fade-out-bottom{% endif %}">
			<a href="{% url 'paste_detail' paste.key.id %}">
				{{ paste.preview|safe }}
			</a>
		</div>
	</div>
{% empty %}
	<p>No pastes. <a href="{% url 'paste_create' %}">Why not add one?</a></p>

{% endfor %}
</div>

{% if pastes.has_next %}
	<nav>
		<span>Showing {{ pastes|length }} of {{ pastes.count }} results.</span>

		<a class="button" href="?{% params request.GET p=pastes.next_page_number %}">
			<span class="icon" aria-hidden="true">
				<i class="fa fa-arrow-circle-right"></i>
			</span>
			<span>Next</span>
		</a>
	</nav>
{% endif %}


{% endblock %}
