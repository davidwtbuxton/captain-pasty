{% extends '_base.html' %}

{% block content %}

<h1 class="title">{{ paste.filename }}</h1>

<div class="paste-actions">
	<a class="button" href="{% url 'paste_create' %}?fork={{ paste.pk }}">
		<span class="icon" aria-hidden="true">
			<i class="fa fa-code-fork"></i>
		</span>
		<span>Fork this paste</span>
	</a>

	<a class="button" href="{% url 'paste_download' paste.pk %}">
		<span class="icon" aria-hidden="true">
			<i class="fa fa-download"></i>
		</span>
		<span>Download zip</span>
	</a>

	{% if starred %}
		<button type="button" class="button star__action{% if starred %} is-disabled{% endif %}" data-paste-id="{{ paste.pk }}" data-url="{% url 'api_star' %}" data-csrf-token="{{ csrf_token }}">
			<span class="icon" aria-hidden="true">
				<i class="fa fa-star"></i>
			</span>
			<span class="star__status">Star{% if starred %}red{% endif %}</span>
		</button>
	{% else %}
		<button type="button" class="button star__action" data-paste-id="{{ paste.pk }}" data-url="{% url 'api_star' %}" data-csrf-token="{{ csrf_token }}">
			<span class="icon" aria-hidden="true">
				<i class="fa fa-star-o"></i>
			</span>
			<span class="star__status">Star</span>
		</button>
	{% endif %}

</div>

<div class="paste">

	{% include '_paste_meta.html' %}

	<div class="paste__content">
		{% for file in paste.files.all %}
			<div class="paste__file">
				<span class="paste__file-name">{{ file.filename }}</span>
				{{ file.content_highlight }}
			</div>
		{% endfor %}
	</div>
</div>

{% endblock content %}
